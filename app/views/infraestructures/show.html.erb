<%= render '/common/header' %>
<h1 class="h2"><%= t('infraestructure') %></h1>
<% if notice.present? %><div class="alert alert-info"><%= notice %></div><% end %>

<table class="table table-condensed table-striped table-hover table-bordered">
  <tbody>
    <tr>
      <th style="text-align: right;" width="200px"><%= t('infraestructure_name') %> :</th>
      <td><%= @infraestructure.name %></td>
    </tr>
    <tr>
      <th style="text-align: right;" width="200px"><%= t('infraestructure_description') %> :</th>
      <td><%= @infraestructure.description %></td>
    </tr>
    <tr>
      <th style="text-align: right;" width="200px"><%= t('infraestructure_hosts') %> :</th>
      <td>
        <% if @infraestructure.hosts.present? %>
          <table class="table table-condensed table-hover">
            <tr>
              <th style="text-align: center;">#</th>
              <th style="text-align: center;"><%= t('hostname') %></th>
              <th style="text-align: center;"><%= t('host_type') %></th>
              <th style="text-align: center;"><%= t('environment') %></th>
              <th style="text-align: center;"><%= t('description') %></th>
            </tr>
            <% counter = 1 %>
            <% @infraestructure.hosts.each do |host| %>
              <tr>
                <td><%= counter %></td>
                <td><%= link_to host.name, host %></td>
                <td><%= host.host_type.name %></td>
                <td><%= host.environment.name %></td>
                <td><%= host.description.html_safe %></td>
              </tr>
              <% counter += 1%>
            <% end %>
          </table>
        <% else %>
          ---
        <% end %>
      </td>
    </tr>
  </tbody>
</table>

<%= link_to t('back'), :back, class: 'btn btn-default' %>
<%= link_to t('edit'), edit_infraestructure_path(@infraestructure), class: 'btn btn-primary' %>
<%= link_to t('add'), new_infraestructure_path, class: 'btn btn-default' %>
